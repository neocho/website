{"ast":null,"code":"import matter from 'gray-matter';\nimport marked from 'marked';\n\nasync function getPosts() {\n  const context = require.context('../_posts', false, /\\.md$/);\n\n  const posts = [];\n\n  for (const key of context.keys()) {\n    const post = key.slice(2);\n    const content = await import(`../_posts/${post}`);\n    const meta = matter(content.default);\n    posts.push({\n      slug: post.replace('.md', ''),\n      title: meta.data.title\n    });\n  }\n}\n\nasync function getPostSlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    content: content\n  };\n}\n\nexport { getPosts, getPostSlug };","map":{"version":3,"sources":["/Users/neo/Projects/website/api/index.js"],"names":["matter","marked","getPosts","context","require","posts","key","keys","post","slice","content","meta","default","push","slug","replace","title","data","getPostSlug","fileContent"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAEA,eAAeC,QAAf,GAA0B;AACzB,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,WAAhB,EAA6B,KAA7B,EAAoC,OAApC,CAAhB;;AAEA,QAAME,KAAK,GAAG,EAAd;;AAEA,OAAK,MAAMC,GAAX,IAAkBH,OAAO,CAACI,IAAR,EAAlB,EAAiC;AAChC,UAAMC,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AAEA,UAAMC,OAAO,GAAG,MAAM,OAAQ,aAAYF,IAAK,EAAzB,CAAtB;AACA,UAAMG,IAAI,GAAGX,MAAM,CAACU,OAAO,CAACE,OAAT,CAAnB;AAEAP,IAAAA,KAAK,CAACQ,IAAN,CAAW;AACVC,MAAAA,IAAI,EAAEN,IAAI,CAACO,OAAL,CAAa,KAAb,EAAoB,EAApB,CADI;AAEVC,MAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD;AAFP,KAAX;AAIA;AACD;;AAED,eAAeE,WAAf,CAA2BJ,IAA3B,EAAiC;AAChC,QAAMK,WAAW,GAAG,MAAM,OAAQ,aAAYL,IAAK,KAAzB,CAA1B;AACA,QAAMH,IAAI,GAAGX,MAAM,CAACmB,WAAW,CAACP,OAAb,CAAnB;AAEA,QAAMF,OAAO,GAAGT,MAAM,CAACU,IAAI,CAACD,OAAN,CAAtB;AAEA,SAAO;AACNM,IAAAA,KAAK,EAAEL,IAAI,CAACM,IAAL,CAAUD,KADX;AAENN,IAAAA,OAAO,EAAEA;AAFH,GAAP;AAIA;;AAED,SAAQR,QAAR,EAAkBgB,WAAlB","sourcesContent":["import matter from 'gray-matter';\nimport marked from 'marked'; \n\nasync function getPosts() {\n\tconst context = require.context('../_posts', false, /\\.md$/); \n\n\tconst posts = []; \n\n\tfor (const key of context.keys()){\n\t\tconst post = key.slice(2); \n\n\t\tconst content = await import(`../_posts/${post}`); \n\t\tconst meta = matter(content.default); \n\n\t\tposts.push({\n\t\t\tslug: post.replace('.md', ''), \n\t\t\ttitle: meta.data.title\n\t\t});\n\t}\n}\n\nasync function getPostSlug(slug) {\n\tconst fileContent = await import(`../_posts/${slug}.md`); \n\tconst meta = matter(fileContent.default); \n\n\tconst content = marked(meta.content); \n\n\treturn {\n\t\ttitle: meta.data.title, \n\t\tcontent: content\n\t}\n}\n\nexport {getPosts, getPostSlug} \n"]},"metadata":{},"sourceType":"module"}