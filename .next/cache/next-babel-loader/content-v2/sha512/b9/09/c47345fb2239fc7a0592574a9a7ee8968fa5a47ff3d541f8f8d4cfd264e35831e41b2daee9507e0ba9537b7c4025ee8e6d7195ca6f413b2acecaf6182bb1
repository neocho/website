{"ast":null,"code":"import matter from 'gray-matter';\nimport marked from 'marked';\nexport async function getPosts() {\n  const context = require.context('../_posts', false, /\\.md$/);\n\n  console.log('---------CONTEXT-----------');\n  console.log(context);\n  const posts = [];\n\n  for (const key of context.keys()) {\n    console.log(\"KEY: \" + key);\n    const post = key.slice(2);\n    console.log('POST: ' + post);\n    const content = await import(`../_posts/${post}`);\n    console.log(\"Content: \" + content);\n    const meta = matter(content.default);\n    console.log(\"metaaa: \" + meta);\n    console.log(\"--------INFO--------\");\n    const slug = post.replace('.md', '');\n    const title = meta.data.title;\n    posts.push({\n      slug: slug,\n      title: title\n    });\n    return posts;\n  }\n}\nexport async function getPostSlug(slug) {\n  const fileContent = await import(`../_posts/${slug}.md`);\n  const meta = matter(fileContent.default);\n  const content = marked(meta.content);\n  return {\n    title: meta.data.title,\n    content: content\n  };\n}","map":{"version":3,"sources":["/Users/neo/Projects/website/api/index.js"],"names":["matter","marked","getPosts","context","require","console","log","posts","key","keys","post","slice","content","meta","default","slug","replace","title","data","push","getPostSlug","fileContent"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,aAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,OAAO,eAAeC,QAAf,GAA0B;AAChC,QAAMC,OAAO,GAAGC,OAAO,CAACD,OAAR,CAAgB,WAAhB,EAA6B,KAA7B,EAAoC,OAApC,CAAhB;;AAEAE,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AAEA,QAAMI,KAAK,GAAG,EAAd;;AAEA,OAAK,MAAMC,GAAX,IAAkBL,OAAO,CAACM,IAAR,EAAlB,EAAiC;AAChCJ,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAUE,GAAtB;AACA,UAAME,IAAI,GAAGF,GAAG,CAACG,KAAJ,CAAU,CAAV,CAAb;AACAN,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAWI,IAAvB;AACA,UAAME,OAAO,GAAG,MAAM,OAAQ,aAAYF,IAAK,EAAzB,CAAtB;AAEAL,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAcM,OAA1B;AACA,UAAMC,IAAI,GAAGb,MAAM,CAACY,OAAO,CAACE,OAAT,CAAnB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAaO,IAAzB;AAEAR,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,UAAMS,IAAI,GAAGL,IAAI,CAACM,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAb;AACA,UAAMC,KAAK,GAAGJ,IAAI,CAACK,IAAL,CAAUD,KAAxB;AACAV,IAAAA,KAAK,CAACY,IAAN,CAAW;AACVJ,MAAAA,IAAI,EAAEA,IADI;AAEVE,MAAAA,KAAK,EAAEA;AAFG,KAAX;AAKA,WAAOV,KAAP;AACA;AACD;AAED,OAAO,eAAea,WAAf,CAA2BL,IAA3B,EAAiC;AACvC,QAAMM,WAAW,GAAG,MAAM,OAAQ,aAAYN,IAAK,KAAzB,CAA1B;AACA,QAAMF,IAAI,GAAGb,MAAM,CAACqB,WAAW,CAACP,OAAb,CAAnB;AAEA,QAAMF,OAAO,GAAGX,MAAM,CAACY,IAAI,CAACD,OAAN,CAAtB;AAEA,SAAO;AACNK,IAAAA,KAAK,EAAEJ,IAAI,CAACK,IAAL,CAAUD,KADX;AAENL,IAAAA,OAAO,EAAEA;AAFH,GAAP;AAIA","sourcesContent":["import matter from 'gray-matter';\nimport marked from 'marked'; \n\nexport async function getPosts() {\n\tconst context = require.context('../_posts', false, /\\.md$/); \n\t\n\tconsole.log('---------CONTEXT-----------');\n\tconsole.log(context); \n\n\tconst posts = []; \n\n\tfor (const key of context.keys()){\n\t\tconsole.log(\"KEY: \" + key);\n\t\tconst post = key.slice(2); \n\t\tconsole.log('POST: ' + post ); \n\t\tconst content = await import(`../_posts/${post}`); \n\t\t\n\t\tconsole.log(\"Content: \" + content);\n\t\tconst meta = matter(content.default); \n\t\tconsole.log(\"metaaa: \" + meta); \n\n\t\tconsole.log(\"--------INFO--------\"); \n\t\tconst slug = post.replace('.md', ''); \n\t\tconst title = meta.data.title;  \n\t\tposts.push({\n\t\t\tslug: slug, \n\t\t\ttitle: title\n\t\t});\n\n\t\treturn posts; \n\t}\n}\n\nexport async function getPostSlug(slug) {\n\tconst fileContent = await import(`../_posts/${slug}.md`); \n\tconst meta = matter(fileContent.default); \n\n\tconst content = marked(meta.content); \n\n\treturn {\n\t\ttitle: meta.data.title, \n\t\tcontent: content\n\t}\n}\n\n"]},"metadata":{},"sourceType":"module"}